## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)
- [–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–∞](#–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ-–∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–∞)
- [–†–∞–±–æ—Ç–∞ —Å JSON –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö](#—Ä–∞–±–æ—Ç–∞-—Å-json-–±–∞–∑–æ–π-–¥–∞–Ω–Ω—ã—Ö)
  - [–§–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î](#—Ñ–æ—Ä–º–∞—Ç-—Ö—Ä–∞–Ω–µ–Ω–∏—è-–¥–∞–Ω–Ω—ã—Ö-–≤-–±–¥)
  - [–û–±—â–µ–Ω–∏–µ —Å –ë–î](#–æ–±—â–µ–Ω–∏–µ-—Å-–±–¥)
<!-- - [] -->

## –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–∞
–ù–∞ –ë—ç–∫–µ–Ω–¥ —Å—Ç–æ—Ä–æ–Ω–µ –≤–µ–±-–ø—Ä–∏–ª–∂–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (REST-API), –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–µ `src/routes/RestApi.ts`

**–ü—Ä–æ–π–¥–µ–º—Å—è –ø–æ —Å—Ç—Ä–æ–∫–∞–º:**

–°—Ä–µ–¥—Å—Ç–≤–∞–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [`express`](https://www.npmjs.com/package/express) —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ä–æ—É—Ç–µ—Ä:
```ts
import { Router } from 'express' // –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ä–æ—É—Ç–µ—Ä —ç–∫—Å–ø—Ä–µ—Å—Å–∞
```

–ó–∞—Ç–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã.
\
–í —Ç–µ–∫—É—â–µ–º –ø—Ä–∏–º–µ—Ä–µ - —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ –ª–∞–π–∫–∞–º–∏(`Favorites_Controller`) –∏ –∑–∞–∫–ª–∞–¥–∫–∞–º–∏ (`Keep_Controller`)
```ts

import { FavoritesController } from '../app/controllers/favorites.controller'
import { KeepController } from '../app/controllers/keep.controller'

```

–°–æ–∑–¥–∞–µ–º –≤–µ–± —Ä–æ—É—Ç–µ—Ä
```ts
export const WEBrouter = Router()
```


–î–∞–ª–µ–µ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `post` –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ (2 –∞—Ä–≥—É–º–µ–Ω—Ç –º–µ—Ç–æ–¥–∞) –∫ rest api –ø—É—Ç–∏ (1 –∞—Ä–≥—É–º–µ–Ω—Ç –º–µ—Ç–æ–¥–∞)
```ts
// WEBrouter.post(1–∞—Ä–≥—É–º–µ–Ω—Ç, 2–∞—Ä–≥—É–º–µ–Ω—Ç) üëàÔ∏è

//–ª–∞–π–∫–∏
WEBrouter.post(REST_API('/favorites_api'), Favorites_Controller.perform)
WEBrouter.post(REST_API('/add_2_favorite'), Favorites_Controller.add2favorite)
WEBrouter.post(REST_API('/remove_from_favorite'), Favorites_Controller.remove_from_favorite)
WEBrouter.post(REST_API('/get_favorites_names'), Favorites_Controller.get_favorite_org_names)

//–∑–∞–∫–ª–∞–¥–∫–∏
WEBrouter.post(REST_API('/keep_api'), Keep_Controller.perform)
WEBrouter.post(REST_API('/add2keep'), Keep_Controller.add2keep)
WEBrouter.post(REST_API('/remove_from_keep'), Keep_Controller.remove_from_keep)
WEBrouter.post(REST_API('/get_keeped_names'), Keep_Controller.get_keep_org_names)
```

–ù–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —á–∞—Å—Ç–∏ –ø–æ—Å—ã–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–¥–∏–Ω –∏–∑ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ –∏ –ø–æ–ª—É—á–∞–µ–º –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## –†–∞–±–æ—Ç–∞ —Å JSON –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –§–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

JSON –ë–î –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –¥–µ—Ä–µ–≤–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤:
```json
{
    "organizes": {
        "–§–æ–Ω–¥": {
            "info": "–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", // –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏
            "link1": "https://google.com", // —Å—Å—ã–ª–∫–∏
            "link2": "https://yandex.ru",
            "name": "–ë–ª–∞–≥–æ—Ñ–æ–Ω–¥1", // –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–æ–Ω–¥–∞
            "index": 2, // –∏–Ω–¥–µ–∫—Å —Ñ–æ–Ω–¥–∞ (–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ UI)
            "last_modify": "14/05/22 01:34:59", // –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
            "old_name": "–ë–ª–∞–≥–æ—Ñ–æ–Ω–¥1", // –ø—Ä–µ–¥–∏–¥—É—â–µ–µ –∏–º—è —Ñ–æ–Ω–¥–∞
            "favorite_counter": 3, // —Å—á–µ—Ç—á–∏–∫ –ª–∞–π–∫–æ–≤
            "keep_counter": 2 // —Å—á–µ—Ç—á–∏–∫ –∑–∞–∫–ª–∞–¥–æ–∫
        },
        // ...
    },

    "users": { 
        "some_user": {
            "login": "some_user", // –ª–æ–≥–∏–Ω
            "password": "some_user", // –ø–∞—Ä–æ–ª—å
            "user_type": "default", // —Ç–∏–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            "favorites": {
                "BB –§–æ–Ω–¥": "BB –§–æ–Ω–¥", // —Ñ–æ–Ω–¥ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –≤ –ª–∞–π–∫–∏
                // ...
            },
            "keep": {
                "BB –§–æ–Ω–¥": "BB –§–æ–Ω–¥" // —Ñ–æ–Ω–¥ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –≤ –∑–∞–∫–ª–∞–¥–∫–∏
                // ...
            }
        },
        // ...
    }
}
```

### –û–±—â–µ–Ω–∏–µ —Å –ë–î
–æ–±—â–µ–Ω–∏–µ –±—ç–∫–µ–Ω–¥–∞ —Å –ë–ñ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –º–µ—Ç–æ–¥–∞–º–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –≤ –∫–ª–∞—Å—Å–µ **JsonDB_Methods** (`src/app/services/jsondb.services.ts`)

–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫–ª–∞–¥–æ–∫ –¥–ª—è —Ç–µ–∫—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```ts
public static getOrganizes_favorite_counts = () => {
    const { jsondb } = JsonDB_Contract()
    const organizes = jsondb.getData(`/organizes`)
    const org_names = Object.keys(organizes)

    /**
     * –ø–æ–ª—É—á–∞–µ–º –º–∞—Å—Å–∏–≤ —á–∏—Å–µ–ª - —Å—á–µ—Ç—á–∏–∫ –ª–∞–π–∫–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
     */
    const favorite_count: number[] = org_names.map((org_name): number => {
        return jsondb.getData(`/organizes/${org_name}/favorite_counter`)
    })

    /**
     * end_pairs - —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ –∏–∑ –ø–∞—Ä –∑–Ω–∞—á–µ–Ω–∏–π - [–∏–º—è_–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –µ–µ —Å—á–µ—Ç—á–∏–∫ –ª–∞–π–∫–æ–≤]
     */
    const end_pairs: (string | number)[][] = org_names.map((org_name, i) => {
        return [org_name, favorite_count[i]]
    })
    return { end_pairs }
}
```

–†–∞–±–æ—Ç–∞ –∫–æ–¥–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ UI (React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫)

–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—â–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–∞–ø–∫–∞—Ö:

<div style='text-align:center' >

![img](img/page-structure.png)

</div>